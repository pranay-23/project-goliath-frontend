
<div

    class="flex items-center justify-center min-h-screen pt-24 pb-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-gray-50 via-indigo-50 to-gray-100 dark:from-black dark:via-gray-950 dark:to-indigo-950">
    <div class="w-full max-w-2xl space-y-8">
        <!-- Signup Card -->
        <div
            class="bg-white/80 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-800 rounded-2xl shadow-xl p-8 space-y-6 backdrop-blur-lg transition-all duration-300 hover:shadow-2xl">

            <!-- Header -->
            <div class="text-center">
                <h2 class="text-3xl font-extrabold text-gray-900 dark:text-white">
                    Create Your Account
                </h2>
                <p class="mt-2 text-sm text-gray-600 dark:text-gray-400">
                    Start your fitness journey today.
                </p>
            </div>

            <!-- Signup Form -->
            <form class="space-y-6" [formGroup]="signupForm()" (ngSubmit)="signup()">
                <!-- Personal Information Section -->
                <div class="space-y-4">
                    <h3 class="text-lg font-medium text-gray-900 dark:text-white">Personal Information</h3>

                    <!-- Name Fields (2 columns) -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <!-- First Name -->
                        <div>
                            <label for="firstName"
                                class="block text-sm font-medium text-gray-700 dark:text-gray-300">First Name</label>
                            <input id="firstName" formControlName="firstName" type="text" pInputText
                                class="mt-1 w-full px-3">
                            @if (signupForm().get('firstName')?.invalid && signupForm().get('firstName')?.touched) {
                            <div class="text-red-500 text-xs mt-1">
                                @if (signupForm().get('firstName')?.errors?.['required']) {
                                <span>First name is required</span>
                                }
                                @if (signupForm().get('firstName')?.errors?.['maxlength']) {
                                <span>First name cannot exceed 50 characters</span>
                                }
                            </div>
                            }
                        </div>

                        <!-- Last Name -->
                        <div>
                            <label for="lastName"
                                class="block text-sm font-medium text-gray-700 dark:text-gray-300">Last Name</label>
                            <input id="lastName" formControlName="lastName" type="text" pInputText
                                class="mt-1 appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-black/50 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                            @if (signupForm().get('lastName')?.invalid && signupForm().get('lastName')?.touched) {
                            <div class="text-red-500 text-xs mt-1">
                                @if (signupForm().get('lastName')?.errors?.['required']) {
                                <span>Last name is required</span>
                                }
                                @if (signupForm().get('lastName')?.errors?.['maxlength']) {
                                <span>Last name cannot exceed 50 characters</span>
                                }
                            </div>
                            }
                        </div>
                    </div>

                    <!-- Email -->
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Email
                            Address</label>
                        <input id="email" formControlName="email" type="email" pInputText
                            class="mt-1 appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-black/50 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        @if (signupForm().get('email')?.invalid && signupForm().get('email')?.touched) {
                        <div class="text-red-500 text-xs mt-1">
                            @if (signupForm().get('email')?.errors?.['required']) {
                            <span>Email is required</span>
                            }
                            @if (signupForm().get('email')?.errors?.['email']) {
                            <span>Please enter a valid email address</span>
                            }
                        </div>
                        }
                    </div>

                    <!-- Password Fields (2 columns) -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <!-- Password -->
                        <div>
                            <label for="password"
                                class="block text-sm font-medium text-gray-700 dark:text-gray-300">Password</label>
                            <input id="password" formControlName="password" type="password" pInputText
                                class="mt-1 appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-black/50 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                            @if (signupForm().get('password')?.invalid && signupForm().get('password')?.touched) {
                            <div class="text-red-500 text-xs mt-1">
                                @if (signupForm().get('password')?.errors?.['required']) {
                                <span>Password is required</span>
                                }
                                @if (signupForm().get('password')?.errors?.['minlength']) {
                                <span>Password must be at least 8 characters</span>
                                }
                                @if (signupForm().get('password')?.errors?.['pattern']) {
                                <span>Password must include uppercase, lowercase, number and special character</span>
                                }
                            </div>
                            }
                        </div>

                        <!-- Confirm Password -->
                        <div>
                            <label for="confirmPassword"
                                class="block text-sm font-medium text-gray-700 dark:text-gray-300">Confirm
                                Password</label>
                            <input id="confirmPassword" formControlName="confirmPassword" type="password" pInputText
                                class="mt-1 appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-black/50 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                            @if (signupForm().get('confirmPassword')?.invalid &&
                            signupForm().get('confirmPassword')?.touched) {
                            <div class="text-red-500 text-xs mt-1">
                                @if (signupForm().get('confirmPassword')?.errors?.['required']) {
                                <span>Please confirm your password</span>
                                }
                                @if (signupForm().get('confirmPassword')?.errors?.['passwordMismatch']) {
                                <span>Passwords do not match</span>
                                }
                            </div>
                            }
                        </div>
                    </div>

                    <!-- Age and Gender (2 columns) -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <!-- Age -->
                        <div>
                            <label for="age"
                                class="block text-sm font-medium text-gray-700 dark:text-gray-300">Age</label>
                            <input id="age" formControlName="age" type="number" min="0" max="120" pInputText
                                class="mt-1 appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-black/50 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                            @if (signupForm().get('age')?.invalid && signupForm().get('age')?.touched) {
                            <div class="text-red-500 text-xs mt-1">
                                @if (signupForm().get('age')?.errors?.['min']) {
                                <span>You must be at least 18 years old</span>
                                }
                            </div>
                            }
                        </div>

                        <!-- Gender -->
                        <div>
                            <label for="gender"
                                class="block text-sm font-medium text-gray-700 dark:text-gray-300">Gender</label>
                            <p-select id="gender" formControlName="gender" [options]="genderOptions" optionLabel="label"
                                optionValue="value"
                                styleClass="mt-1 appearance-none rounded-md relative flex items-center w-full border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-black/50 text-gray-900 dark:text-white sm:text-sm">
                            </p-select>
                        </div>
                    </div>
                </div>

                <!-- Physical Information Section -->
                <div class="space-y-4 pt-4 border-t border-gray-200 dark:border-gray-700">
                    <h3 class="text-lg font-medium text-gray-900 dark:text-white">Physical Information</h3>

                    <!-- Height with Units -->
                    <div class="grid grid-cols-2 gap-4">
                        <div class="relative">
                            <label for="height"
                                class="block text-sm font-medium text-gray-700 dark:text-gray-300">Height</label>
                            <div class="relative mt-1 flex items-center">
                                <input id="height" formControlName="height" type="number" min="0" pInputText
                                    class="appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-black/50 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                <div class="absolute right-8 text-sm text-gray-500 dark:text-gray-400">
                                    {{ signupForm().get('unitsPreference')?.get('height')?.value === 'cm' ? 'cm' : 'in'
                                    }}
                                </div>
                            </div>
                            @if (signupForm().get('height')?.invalid && signupForm().get('height')?.touched) {
                            <div class="text-red-500 text-xs mt-1">
                                @if (signupForm().get('height')?.errors?.['min']) {
                                <span>Height must be a positive number</span>
                                }
                            </div>
                            }
                        </div>
                        <div>
                            <div [formGroupName]="'unitsPreference'">
                                <label for="heightUnit"
                                    class="block text-sm font-medium text-gray-700 dark:text-gray-300">Unit</label>
                                <p-select id="heightUnit" formControlName="height" [options]="heightUnitOptions"
                                    optionLabel="label" optionValue="value"
                                    styleClass="mt-1 appearance-none rounded-md relative flex items-center w-full border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-black/50 text-gray-900 dark:text-white sm:text-sm">
                                </p-select>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- Sign Up Button -->
                <div>
                    <button type="submit" [disabled]="signupForm().invalid"
                        class="cursor-pointer group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-black transition-all duration-300 shadow-lg hover:shadow-indigo-600/40 disabled:bg-indigo-400 disabled:cursor-not-allowed dark:disabled:bg-indigo-800 transform hover:scale-[1.02]">
                        Create Account
                    </button>
                </div>
            </form>

            <!-- Divider -->
            <div class="relative">
                <div class="absolute inset-0 flex items-center" aria-hidden="true">
                    <div class="w-full border-t border-gray-300 dark:border-gray-700"></div>
                </div>
                <div class="relative flex justify-center text-sm">
                    <span class="px-2 bg-white dark:bg-gray-900/50 text-gray-500 dark:text-gray-400">
                        Or continue with
                    </span>
                </div>
            </div>

            <!-- Google Sign Up Button -->
            <div>
                <button type="button" (click)="signUpWithGoogle()"
                    class="cursor-pointer group relative w-full flex justify-center items-center py-3 px-4 border border-gray-300 dark:border-gray-700 text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-black/50 hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-black transition-all duration-300 transform hover:scale-[1.02] shadow-md hover:shadow-lg">
                    <svg class="w-5 h-5 mr-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
                        <path fill="#FFC107"
                            d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z">
                        </path>
                        <path fill="#FF3D00"
                            d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z">
                        </path>
                        <path fill="#4CAF50"
                            d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.223,0-9.657-3.356-11.303-7.918l-6.573,4.817C9.864,39.918,16.289,44,24,44z">
                        </path>
                        <path fill="#1976D2"
                            d="M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571l6.19,5.238C39.988,35.617,44,29.988,44,24C44,22.659,43.862,21.35,43.611,20.083z">
                        </path>
                    </svg>
                    Sign up with Google
                </button>
            </div>
        </div>

        <!-- Login Link -->
        <p class="text-center text-sm text-gray-600 dark:text-gray-400">
            Already have an account?
            <a routerLink="/login"
                class="font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300">
                Sign in
            </a>
        </p>
    </div>
</div>

